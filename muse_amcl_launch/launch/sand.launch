<?xml version="1.0" ?>
<launch>
    <group ns="muse_amcl">
        <param name="world_frame" value="world" />
        <param name="base_frame"  value="base_link" />
        <param name="topic_poses" value="/muse_amcl/poses"/>
        <param name="rate_poses" value="30.0" />
        <param name="rate_tf" 	 value="30.0" />
        
        <group ns="front_laser">
            <param name="class" value="muse_amcl::DataProviderLaser2D" />
            <param name="base_class" value="muse_amcl::DataProvider" />
        	<param name="topic" value="/scan" />
        	<param name="undistortion" value="false" />
        	<param name="undistortion_fixed_frame" value="/odom" />
        	<param name="undistortion_tf_timeout" value="0.1" />
        	<param name="range_max" value="30.0" />
        	<param name="range_min" value="0.1" />
        	<!-- <param name="angle_min" value="-3.1425" /> -->
        	<!-- <param name="angle_max" value="3.1425" /> -->
        </group>
        <group ns="beam_model">
            <param name="class" value="muse_amcl::BeamModel" />
            <param name="base_class" value="muse_amcl::Update" />

            


        </group>



        <group ns="update0">
            <param name="class" value="muse_amcl::MockUpdate" />
            <param name="base_class" value="muse_amcl::Update" />

            <param name="data_provider" value="data0" />
            <param name="map_provider" value="map0" />

            <param name="first" value="0.01" />
            <param name="second" value="1" />
        </group>
        <group ns="propagation1">
            <param name="class" value="muse_amcl::MockPropagation" />
            <param name="base_class" value="muse_amcl::Propagation" />
            <param name="data_provider" value="data1" />
            <param name="first" value="0.00001" />
            <param name="second" value="10000" />
        </group>
        <group ns="map0">
            <param name="class" value="muse_amcl::MockMapProvider" />
            <param name="base_class" value="muse_amcl::MapProvider" />
        </group>


        <group ns="particle_filter">
        	<param name="resampling_offset_linear" value="0.2" />
        	<param name="resampling_offset_angular" value="0.314" />


            <param name="sample_size"     value="500" /> 		<!-- if set, maximum and minimum are this value -->
            <param name="sample_size_min" value="" /> 			<!-- if not sample_size is already set -->
            <param name="sample_size_max" value="" /> 			<!-- if not sample_size is already set -->
            
            <param name="resolution_linear" value="0.05" />     <!-- linear discretization resolution -->
            <param name="resolution_radial" value="0.0314256"/> <!-- angular discretization resolution -->

            <param name="array_size" value="10.0" /> 			<!-- use array if possible, higher speed -->
 

           <group ns="resampling">
		      <param name="class" 	   value="muse_amcl::KLD2D" />
              <param name="base_class" value="muse_amcl::Resampling" />
              <param name="class" 	   value="muse_amcl::KLD2D" />
           </group>
            <group ns="uniform_pose_generation">
              <param name="class" 		value="muse_amcl::UniformAllMaps2D" />
              <param name="base_class"  value="muse_amcl::UniformPoseGeneration" />
              <param name="seed" 		value="2" />
              <param name="timeout" 	value="10.0" />
              <param name="tf_timeout" 	value="0.1" />
              <param name="sample_size" value="500" />
              <param name="primary_map" value="map0" />
            </group>
            <group ns="normal_pose_generation">
              <rosparam param="maps">
                ["sand"]
              </rosparam>
              <param name="timeout" 	value="10.0" />
              <param name="tf_timeout"  value="0.1" />
              <param name="sample_size" value="500" />
              <param name="class" 		value="muse_amcl::Normal2D" />
              <param name="base_class" 	value="muse_amcl::NormalPoseGeneration" />
              <parma name="seed" 		value="0" />
            </group>

        </group>
    </group>
    <node type="muse_amcl" name="muse_amcl" pkg="muse_amcl" output="screen">
</launch>
