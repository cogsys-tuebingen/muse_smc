<?xml version="1.0" ?>
<launch>
    <param name="/use_sim_time" value="true" />

    <!-- in maize, static transform between base_footprint and base_link was missing -->
    <node pkg="tf" type="static_transform_publisher" name="odom_T" args="0.0 0.0 0.05 0.0 0.0 0.0 1.0 /base_footprint /base_link 100"/>
    <node pkg="tf" type="static_transform_publisher" name="imu_T" args="-9.0 11.7 19.0 1.57 0.0 0.0 /base_link /imu 100"/>
    <node pkg="tf" type="static_transform_publisher" name="imu_link_T" args="0.0 0.0 0.0 0.0 0.0 0.0 /imu /base_imu_link 100"/>

    <!-- bagfile -->
    <arg name="bag_root" value="/data/0/bag/maize" />
    <arg name="bag_file" value="2017-09-11-13-42-55.bag" />
    <node pkg="rosbag" type="play" name="player" output="screen" args="--pause --clock --rate 2.0 -d 5 $(arg bag_root)/$(arg bag_file)" required="true" />

     <group ns="muse_mcl_2d_mapping_node_3d">
     <rosparam param="lasers2d">
     </rosparam>
     <rosparam param="lasers3d">
         ["/velodyne_points"]
     </rosparam>
     <param name="subscriber_queue_size" value="10" />
     <param name="rate" value="0.0" />
     <param name="resolution" value="0.05" />
     <param name="map_frame" value="/odom" />
     <param name="ndt_map_pub_rate" value="10.0" />
     <param name="occ_map_pub_rate" value="10.0" />
     <param name="ndt_sampling_resolution" value="0.25" /> 
     <param name="ndt_grid_resolution" value="2.0" />
    </group>

    <node name="muse_mcl_2d_mapping_node_3d" pkg="muse_mcl_2d_mapping" type="muse_mcl_2d_mapping_node_3d" output="screen" />

</launch>
